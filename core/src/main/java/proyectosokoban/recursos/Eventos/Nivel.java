package proyectosokoban.recursos.Eventos;

import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import java.util.ArrayList;
import java.util.List;

public class Nivel {

    private int numero;
    private String[][] mapa;
    private List<Pared> paredes;
    private List<Suelo> suelos;
    private List<Caja> cajas;
    private List<Objetivo> objetivos;
    private boolean completado = false;

    private int spawnJugadorX;
    private int spawnJugadorY;

    private int TILE;
    private int FILAS;
    private int COLUMNAS;

    public Nivel(int numero) {
        this.numero = numero;
        inicializar();
    }

    private void inicializar() {
        paredes = new ArrayList<>();
        suelos = new ArrayList<>();
        cajas = new ArrayList<>();
        objetivos = new ArrayList<>();

        switch (numero) {
            case 1:

                FILAS = 18;
                COLUMNAS = 19;
                TILE = 50;

                mapa = new String[][]{
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "C", "D", " ", " ", "#", " ", " ", " "},
                    {" ", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", "C", "C", " ", "#", "#", " ", " ", " "},
                    {" ", "#", "O", "O", "O", "O", " ", "#", "#", "C", " ", "C", " ", " ", "P", "#", " ", " ", " "},
                    {" ", "#", "O", "O", "O", "O", " ", " ", " ", "C", "C", " ", "C", " ", "#", "#", " ", " ", " "},
                    {" ", "#", "O", "O", "O", "O", " ", "#", "#", " ", "C", " ", "C", " ", "#", "#", "#", " ", " "},
                    {" ", "#", "#", "#", "#", "#", "#", "#", "#", " ", "#", "#", "#", " ", " ", " ", "#", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", " ", " ", "C", " ", "#", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", " ", "D", "C", "#", "#", " ", " ", "#", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", "#", "#", "#", "#", "#", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},};

                cargarMapa(mapa, TILE);
                break;

            case 2:
                FILAS = 21;
                COLUMNAS = 24;
                TILE = 39;

                mapa = new String[][]{
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "O", "O", "O", "O", " ", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "O", "O", "O", "O", " ", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "O", "D", "O", "O", "O", " ", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "O", "O", "O", "O", "#", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "#", "#", "#", "#", "#", "C", "C", " ", " ", " ", "#", " ", " ", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", " ", "#", "#", " ", "C", "C", "D", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", " ", " ", "D", " ", " ", "#", "#", " ", " ", "C", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", "D", " ", "C", " ", "C", " ", " ", " ", "D", "#", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", "D", " ", "C", " ", " ", " ", "#", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", "C", " ", "#", "C", " ", " ", "#", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", "#", " ", "D", "#", " ", "#", " ", "C", " ", "#", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", "C", " ", "#", "C", "#", " ", " ", "D", "#", " ", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", "#", " ", "#", "C", "C", " ", "C", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", "P", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},};

                cargarMapa(mapa, TILE);
                break;

            case 3:

                FILAS = 21;
                COLUMNAS = 23;
                TILE = 41;

                mapa = new String[][]{
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", "#", " ", " ", " ", " ", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", " ", "#", "#", "#", "#", "#", " ", " ", "#", "#", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", " ", "#", " ", "C", " ", "C", "C", " ", " ", " ", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", "C", "C", " ", " ", " ", "C", " ", " ", " ", " ", "C", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", " ", "C", " ", " ", "C", " ", " ", " ", " ", " ", "C", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", " ", "#", " ", "D", "C", " ", " ", "C", " ", " ", " ", "P", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", "#", "#", " ", "D", " ", "#", "#", "#", " ", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", "#", "#", " ", " ", " ", " ", "#", " ", " ", "C", " ", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "#", "#", " ", " ", " ", " ", " ", "#", " ", " ", " ", " ", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "#", "O", "O", "O", "O", " ", "#", "#", " ", " ", " ", "C", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "O", "O", "O", "O", "O", "#", "#", " ", "C", " ", " ", "C", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "O", "O", "O", "O", "#", "#", "#", " ", " ", "C", " ", " ", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "O", "O", "O", "O", "#", " ", "#", " ", " ", "#", "#", "#", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "#", "#", "#", "#", "#", " ", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},};
                cargarMapa(mapa, TILE);

                break;
            case 4:

                FILAS = 21;
                COLUMNAS = 24;
                TILE = 39;

                mapa = new String[][]{
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", "#", "#", "#", "#", "#", " ", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", "D", " ", " ", "C", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", "C", " ", " ", "#", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", " ", "#", "#", "#", " ", "C", "#", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", "#", " ", " ", "#", "O", "O", "O", "O", "O", " ", "#", " ", " ", "#", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", "C", "O", "O", "O", "O", "O", "C", " ", " ", " ", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", "C", "#", "O", "O", "O", "O", "O", "D", "C", "D", " ", "C", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "D", " ", "#", "#", "#", "#", "P", "D", "D", " ", "D", " ", " ", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", "C", " ", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", "#", "#", " ", "C", " ", "C", "D", "D", " ", " ", "#", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", "#", " ", " ", "D", "D", " ", "C", " ", " ", " ", "#", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", "C", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", "#", " ", " ", "C", "D", "C", " ", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", "#", " ", "D", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},};

                cargarMapa(mapa, TILE);
                break;

            case 5:

                FILAS = 20;
                COLUMNAS = 25;
                TILE = 39;

                mapa = new String[][]{
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", "#", "#", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", "#", " ", " ", " ", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", "#", "#", "#", "#", "#", "C", "#", "#", "#", "#", "#", " ", "C", " ", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", " ", " ", " ", "#", "#", " ", "#", "#", " ", " ", " ", " ", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", " ", " ", " ", " ", "C", " ", " ", " ", " ", " ", "D", " ", " ", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", "#", "#", "#", " ", "D", "C", "C", "C", "C", "C", " ", " ", " ", " ", "#", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", " ", " ", " ", " ", "D", " ", " ", " ", " ", "D", "C", "D", "C", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", "C", " ", "D", "C", "C", "C", "#", "#", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", "#", "#", "C", " ", "#", " ", "C", " ", " ", " ", "#", "#", "#", "#", "#", "#", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "C", " ", "#", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", "#", " ", "P", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", " ", "#", "#", "C", "#", "#", "#", "#", "#", "#", " ", " ", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", "#", "C", "#", " ", " ", " ", " ", "O", "O", "O", "O", "O", "O", "O", "O", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", "#", " ", "D", " ", "#", "#", "#", "#", "#", " ", "O", "O", "O", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", "#", " ", " ", " ", "O", "O", "#", "O", "O", "O", "O", "O", "O", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},};

                cargarMapa(mapa, TILE);
                break;

            case 6:

                FILAS = 21;
                COLUMNAS = 25;
                TILE = 39;

                mapa = new String[][]{
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", " ", " ", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", "C", " ", " ", "C", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", "#", "#", "#", "#", " ", "C", "#", "#", "#", "C", " ", " ", "#", "O", "O", "O", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", " ", " ", " ", "C", "#", " ", " ", " ", "C", "C", "#", "O", " ", "D", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", "C", " ", " ", " ", "C", " ", " ", "C", " ", " ", "#", "C", " ", "O", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", " ", " ", " ", " ", "#", "C", " ", "#", "#", "#", "#", "O", " ", "D", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", "#", "#", " ", " ", "#", " ", " ", "#", " ", " ", "#", "C", " ", "O", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", " ", " ", "#", "#", "#", " ", "#", "#", " ", " ", " ", " ", " ", "D", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", " ", "C", " ", " ", "#", " ", " ", " ", " ", " ", "#", "C", " ", "O", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", " ", "C", " ", " ", "C", " ", " ", "#", " ", " ", "#", "C", " ", "D", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", " ", " ", " ", " ", "#", "#", " ", "#", " ", " ", "#", "C", " ", "O", "O", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", "#", "#", "#", "#", "#", "#", "#", "C", "#", "#", "#", "#", "C", " ", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", "#", " ", " ", " ", " ", " ", "#", " ", " ", " ", "C", " ", " ", "#", " ", "P", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},};

                cargarMapa(mapa, TILE);
                break;
            case 7:

                FILAS = 19;
                COLUMNAS = 24;
                TILE = 41;

                mapa = new String[][]{
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "#", "#", "#", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", " ", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", "#", " ", " ", " ", " ", " ", " ", " ", "#", " ", " ", " ", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "C", " ", "#", "#", "#", "#", " ", " ", " ", "#", "#", "C", "C", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", " ", " ", " ", " ", "#", " ", " ", " ", "#", " ", " ", "D", "C", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", "C", "C", "D", " ", " ", "#", "#", "#", "#", "#", " ", " ", " ", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", "#", " ", "C", "C", " ", "C", " ", "C", " ", "#", " ", "#", " ", "#", "#", "#", " ", " ", " ", " "},
                    {" ", " ", "#", "#", "#", " ", " ", " ", " ", " ", "C", " ", " ", "#", " ", "#", " ", "#", " ", "#", " ", " ", " ", " "},
                    {" ", " ", "#", " ", " ", "C", " ", " ", " ", " ", "#", "#", "#", " ", " ", "#", " ", "C", " ", "#", " ", " ", " ", " "},
                    {" ", " ", "#", " ", "C", "#", "#", " ", " ", "#", " ", " ", " ", "P", " ", " ", " ", "D", " ", " ", "#", " ", " ", " "},
                    {" ", " ", "#", "#", "#", "#", "O", "O", "O", "O", "#", " ", "D", " ", "D", " ", "C", " ", "D", " ", "#", " ", " ", " "},
                    {" ", " ", "#", "#", "#", "#", "O", "O", "O", "O", "O", "D", " ", "D", " ", "D", " ", " ", "C", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", "#", "O", "O", "O", "O", " ", " ", " ", " ", " ", " ", " ", " ", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", "#", "O", "O", "O", " ", " ", " ", " ", " ", "#", " ", " ", " ", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", "#", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},
                    {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "},};

                cargarMapa(mapa, TILE);
                break;
            default:
                System.out.println("Nivel no definido");
                return;
        }

        for (int y = 0; y < FILAS; y++) {
            for (int x = 0; x < COLUMNAS; x++) {
                if (mapa[y][x].equals("#")) {
                    switch (numero) {
                        case 1:
                            paredes.add(new Pared(x, y, "Juego/pared.png"));
                            break;
                        case 2:
                            paredes.add(new Pared(x, y, "Juego/pared.png"));
                            break;
                        case 3:
                            paredes.add(new Pared(x, y, "Juego/pared.png"));
                            break;
                        case 4:
                            paredes.add(new Pared(x, y, "Juego/pared.png"));
                            break;
                        case 5:
                            paredes.add(new Pared(x, y, "Juego/pared.png"));
                            break;
                        case 6:
                            paredes.add(new Pared(x, y, "Juego/pared.png"));
                            break;
                        case 7:
                            paredes.add(new Pared(x, y, "Juego/pared.png"));
                            break;
                        default:
                            break;
                    }
                } else if (mapa[y][x].equals("D")) {
                    paredes.add(new Pared(x, y, "Juego/pareddeco.png"));
                } else {
                    suelos.add(new Suelo(x, y));
                }
            }
        }
    }

    public void cargarMapa(String[][] mapa, int TILE) {
        cajas.clear();
        objetivos.clear();

        for (int y = 0; y < mapa.length; y++) {
            for (int x = 0; x < mapa[y].length; x++) {
                String celda = mapa[y][x];

                switch (celda) {
                    case "C":
                        cajas.add(new Caja(x, y, TILE));
                        break;
                    case "O":
                        objetivos.add(new Objetivo(x, y));
                        break;
                    case "P":
                        spawnJugadorX = x;
                        spawnJugadorY = y;
                        break;
                }
            }
        }
    }

    public void render(SpriteBatch batch) {

        for (Suelo suelo : suelos) {
            suelo.render(batch, TILE);
        }

        for (Pared pared : paredes) {
            pared.render(batch, TILE);
        }

        for (Objetivo obj : objetivos) {
            obj.render(batch, TILE);
        }

        for (Caja caja : cajas) {
            caja.render(batch, TILE);
        }

    }

    public boolean verificarVictoria() {
        if (completado) {
            return true;
        }

        for (Objetivo obj : objetivos) {
            boolean encontrado = false;
            for (Caja caja : cajas) {
                if (caja.getX() == obj.getX() && caja.getY() == obj.getY()) {
                    encontrado = true;
                    break;
                }
            }
            if (!encontrado) {
                return false;
            }
        }

        completado = true;
        return true;
    }

    public boolean esPared(int x, int y) {
        if (x < 0 || x >= COLUMNAS || y < 0 || y >= FILAS) {
            return true;
        }
        return mapa[y][x].equals("#") || mapa[y][x].equals("D");
    }

    public boolean hayCajaEn(int x, int y) {
        for (Caja caja : cajas) {
            if (caja.getX() == x && caja.getY() == y) {
                return true;
            }
        }
        return false;
    }

    public void moverCaja(int xActual, int yActual, int nuevoX, int nuevoY) {
        for (Caja caja : cajas) {
            if (caja.getX() == xActual && caja.getY() == yActual) {
                caja.mover(nuevoX, nuevoY);
                break;
            }
        }
        actualizarEstadoCajas();
    }

    public void actualizarEstadoCajas() {
        for (Caja caja : cajas) {
            boolean enObjetivo = false;

            for (Objetivo obj : objetivos) {
                if (caja.getX() == obj.getX() && caja.getY() == obj.getY()) {
                    enObjetivo = true;
                    break;
                }
            }

            caja.setEnObjetivo(enObjetivo, 0.5f);
        }
    }

    public void actualizar(float delta) {
        for (Caja caja : cajas) {
            caja.actualizar(delta);
        }
        actualizarEstadoCajas();
    }

    public void actualizarAnimacionCajas(float delta) {
        for (Caja caja : cajas) {
            caja.actualizar(delta);
        }
    }

    public void dispose() {
        for (Pared pared : paredes) {
            pared.dispose();
        }
        for (Suelo suelo : suelos) {
            suelo.dispose();
        }
        for (Caja caja : cajas) {
            caja.dispose();
        }
        for (Objetivo obj : objetivos) {
            obj.dispose();
        }
    }

    public int getTILE() {
        return TILE;
    }
    
    public int getFILAS() {
        return FILAS;
    }
    
    public int getCOLUMNAS() {
        return COLUMNAS;
    }

    public int getSpawnJugadorX() {
        return spawnJugadorX;
    }

    public int getSpawnJugadorY() {
        return spawnJugadorY;
    }

    public List<Caja> getCajas() {
        return cajas;
    }

    public List<Objetivo> getObjetivos() {
        return objetivos;
    }

    public List<Pared> getParedes() {
        return paredes;
    }
}